AWS Slack Alerts Architecture
============================

┌─────────────────────────────────────────────────────────────────────────────┐
│                              AWS Account                                    │
│                                                                             │
│  ┌─────────────────────┐    ┌──────────────────────────────────────────┐   │
│  │   Monitored         │    │           Monitoring & Security          │   │
│  │   Services          │    │                                          │   │
│  │                     │    │  ┌─────────────┐  ┌─────────────────┐   │   │
│  │  ┌─────────────┐    │    │  │ CloudWatch  │  │   GuardDuty     │   │   │
│  │  │ EC2         │────┼────┼─▶│   Alarms    │  │   Detector      │   │   │
│  │  │ Instances   │    │    │  └─────────────┘  └─────────────────┘   │   │
│  │  └─────────────┘    │    │           │               │             │   │
│  │                     │    │           ▼               ▼             │   │
│  │  ┌─────────────┐    │    │  ┌─────────────────────────────────────┐   │   │
│  │  │ RDS         │────┼────┼─▶│         EventBridge Rules           │   │   │
│  │  │ Databases   │    │    │  │  • GuardDuty Findings              │   │   │
│  │  └─────────────┘    │    │  │  • EC2 State Changes               │   │   │
│  │                     │    │  │  • Auto Scaling Events             │   │   │
│  │  ┌─────────────┐    │    │  │  • RDS Events                      │   │   │
│  │  │ Auto        │────┼────┼─▶└─────────────────────────────────────┘   │   │
│  │  │ Scaling     │    │    │                    │                       │   │
│  │  │ Groups      │    │    │  ┌─────────────┐   │                       │   │
│  │  └─────────────┘    │    │  │ AWS Budgets │   │                       │   │
│  └─────────────────────┘    │  │   Alerts    │   │                       │   │
│                             │  └─────────────┘   │                       │   │
│                             │         │          │                       │   │
│                             └─────────┼──────────┼───────────────────────┘   │
│                                       │          │                           │
│  ┌─────────────────────────────────────┼──────────┼─────────────────────────┐ │
│  │           Notification Pipeline     │          │                         │ │
│  │                                     ▼          ▼                         │ │
│  │                            ┌─────────────────────┐                       │ │
│  │                            │     SNS Topic       │                       │ │
│  │                            │ (aws-slack-alerts)  │                       │ │
│  │                            └─────────────────────┘                       │ │
│  │                                       │                                  │ │
│  │                                       ▼                                  │ │
│  │                            ┌─────────────────────┐                       │ │
│  │                            │  Lambda Function    │                       │ │
│  │                            │  (Slack Notifier)   │                       │ │
│  │                            │  • Format Messages  │                       │ │
│  │                            │  • Send to Slack    │                       │ │
│  │                            └─────────────────────┘                       │ │
│  └─────────────────────────────────────┼─────────────────────────────────────┘ │
└─────────────────────────────────────────┼───────────────────────────────────────┘
                                          │
                                          ▼
                                ┌─────────────────────┐
                                │   Slack Channel     │
                                │  📱 Notifications   │
                                └─────────────────────┘

Data Flow:
==========
1. AWS Services (EC2, RDS, Auto Scaling) → EventBridge Rules
2. CloudWatch Metrics → CloudWatch Alarms
3. GuardDuty → Security Findings → EventBridge
4. AWS Budgets → Cost Alerts
5. All sources → SNS Topic
6. SNS Topic → Lambda Function (trigger)
7. Lambda Function → Slack Webhook (formatted messages)

Alert Types:
============
• CloudWatch Alarms (CPU, Lambda errors, duration)
• GuardDuty Security Findings (HIGH/MEDIUM/LOW severity)
• EC2 Instance State Changes (running, stopped, terminated)
• Auto Scaling Events (launch/terminate success/failure)
• RDS Database Events
• Budget Threshold Alerts (80% actual, 100% forecasted)